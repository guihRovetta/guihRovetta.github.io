<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../device-geolocation/device-geolocation.html">
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">

<dom-module id="my-view2">
    <template>
        <style include="shared-styles">
            :host {
                display: block;
                padding-top: 10px;
                background-color: #dc542c;           
            }

            #logo {
                height: 100%;
                width: 100%;
                max-height: 300px;
                max-width: 300px;
            }

            .divImage {
                margin-bottom: 70px;
                width: 100%;
            }

            .divMedium {
                background-color: #fde37c;
                width: 100%;
            }

            .divLower {
                background-color: #dc542c;
                width: 100%;           
            }

            .divText {
                max-width: 900px;
            }

            h1 {
                text-align: center;
                font-family: 'Kaushan Script', cursive;
                font-size: 1.9em;
            }

            p {
                text-align: justify;
                font-size: 1.05em;
                padding: 10px;
            }

            .pizzas {
                height: 100%;
                width: 100%;
                max-height: 200px;
                max-width: 200px;
            }

            .card {
                background-color: #fde37c;
                width: 100%;
                max-width: 350px;
            }

        </style>

        <div class="page horizontal center-justified layout">
            <div class="flex vertical center-justified layout">
                <div class="divImage horizontal center-justified layout">
                    <img id="logo" src="/src/main-app/assets/logo_cone.png">
                </div> 
                <div class="divMedium horizontal center-justified layout">
                    <div class="divText">
                        <h1>Cone Pizzas - As pizzas em formato de cone!</h1>
                        <p>A Cone Pizzas é uma empresa nova no mercado porém com ideias inovadoras sobre pizzas. Você nunca provou uma pizza tão diferente como essa. Fácil de se carregar através de seu tamanho ideal,  
                        sabores incomparáveis com diversas opções de escolha, além é claro de seu preço imbatível. Venha experimentar essa delícia agora mesmo!!
                        </p>
                        <p>Possuímos quiosques espalhados em vários locais, basta escolher abaixo o local e apertar o botão para calcular sua rota até um de nossos quiosques.</p>                  
                        <device-geolocation id="geolocation" image="" direction="">
                            <paper-dropdown-menu id="drop" class="greenButton" label="Selecione o local" vertical-align="bottom" horizontal-align="left" selected="1" errormessage="Nenhuma loja selecionada!">
                                <paper-listbox slot="dropdown-content" class="dropdown-content">             
                                    <template is="dom-repeat" items="{{stores}}">
                                        <paper-item bind-value="{{item.locate}}">{{item.name}}</paper-item>
                                    </template>
                                </paper-listbox>
                            </paper-dropdown-menu>
                        </device-geolocation>                  
                    </div>                  
                </div>

                <div class="divLower">  
                    <h1>Nossos Sabores</h1>  
                    <div class="divLower horizontal center-justified layout">                      
                        <div class="divText container layout center-justified horizontal wrap">                   
                            <template is="dom-repeat" items="{{pizzas}}">
                                <div class="card container layout vertical center">
                                    <img class="pizza" src="{{item.url}}">
                                    <h1>{{item.name}}</h1>
                                    <p>{{item.description}}</p>
                                </div>
                            </template>            
                        </div> 
                    </div> 
                </div>                 
            </div>
        </div>
    </template>

    <script>
        class MyView2 extends Polymer.Element {
            static get is() {
                return 'my-view2';
            }
            
            static get properties() {
                return {
                    stores: {
                        type: Object,
                        notify: true,
                        value: function() {
                            return [{
                                    name: 'Center Vale Shopping - São José dos Campos',
                                    locate: '-23.1996887,-45.8832782'
                                },
                                {
                                    name: 'Colinas Shopping - São José dos Campos',
                                    locate: '-23.20416,-45.9110194'
                                },
                                {
                                    name: 'Vale Sul Shopping - São José dos Campos',
                                    locate: '-23.2165977,-45.894404'
                                },
                                {
                                    name: 'Shopping Centro - São José dos Campos',
                                    locate: '-23.1844375,-45.8880888'
                                },
                                {
                                    name: 'Jacareí Shopping Center - Jacareí',
                                    locate: '-23.304188,-45.9648577'
                                }
                            ];
                        }
                    },
                    pizzas: {
                        type: Object,
                        notify: true,
                        value: function() {
                            return [{
                                    name: 'CALABRECONE',
                                    description: 'Calabresa, cebola, orégano, azeitona preta, queijo e molho especial',
                                    url: '/src/main-app/assets/pizza_1.png'
                                },
                                {
                                    name: 'BACONE',
                                    description: 'Bacon, cebola, milho, orégano, azeitona, queijo e molho especial',
                                    url: '/src/main-app/assets/pizza_2.png'
                                },
                                {
                                    name: 'MUSSARECONE',
                                    description: 'Mussarela, cebola, azeitona preta, orégano, salsa e molho especial',
                                    url: '/src/main-app/assets/pizza_3.png'
                                },
                                {
                                    name: 'LOMBECONE',
                                    description: 'Lombo, ervilha, alho, queijo e molho especial',
                                    url: '/src/main-app/assets/pizza_4.png'
                                },
                                {
                                    name: 'COGUMECONE',
                                    description: 'Cogumelo fresco, azeitona, salsa, queijo e molho especial',
                                    url: '/src/main-app/assets/pizza_5.png'
                                },
                                {
                                    name: 'CATUPICONE',
                                    description: 'Cobertura de catupiry, ervilha, pimenta, queijo e molho especial',
                                    url: '/src/main-app/assets/pizza_6.png'
                                }
                            ];
                        }
                    }
                }
            }
            
            connectedCallback() {
                super.connectedCallback();
                this.$.drop.addEventListener('value-changed', e => this._changeLocate(this.$.drop.value));
            }
            
            _changeLocate(event) {
                this.$.geolocation.endlocate = event;
            }
        }
        window.customElements.define(MyView2.is, MyView2);
    </script>
</dom-module>
